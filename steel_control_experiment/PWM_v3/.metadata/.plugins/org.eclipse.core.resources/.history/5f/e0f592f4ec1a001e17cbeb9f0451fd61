//2023/07/05Å@PWMêßå‰

#include "sys/alt_stdio.h"
#include "system.h"
#include "altera_avalon_pio_regs.h"

int main()
{
	  //é¸ä˙ÇÃê›íË
	IOWR_ALTERA_AVALON_PIO_DATA(CYCLE_BASE,125000);
        int sw1=0x1;
        int sw2=0x1;
        int sw3=0x1;

  while (1){
	  sw1=IORD_ALTERA_AVALON_PIO_DATA(SW1_BASE);
	  sw2=IORD_ALTERA_AVALON_PIO_DATA(SW2_BASE);
	  sw2=IORD_ALTERA_AVALON_PIO_DATA(SW3_BASE);

	  if(sw1==0x0){
		 if(sw2==0x0){
			 if(sw3==0x0){
				 IOWR_ALTERA_AVALON_PIO_DATA(DUTY_BASE,50475);//5%
				 break;
			 }
			 else{
			 		  IOWR_ALTERA_AVALON_PIO_DATA(DUTY_BASE,0);//PWMêMçÜÇí‚é~
			 	  }
			  IOWR_ALTERA_AVALON_PIO_DATA(DUTY_BASE,47000);//0%
			  break;
		 }else{
			  IOWR_ALTERA_AVALON_PIO_DATA(DUTY_BASE,0);//PWMêMçÜÇí‚é~
		  }
		  IOWR_ALTERA_AVALON_PIO_DATA(DUTY_BASE,116500);//100%
		  break;
	  }else{
		  IOWR_ALTERA_AVALON_PIO_DATA(DUTY_BASE,0);//PWMêMçÜÇí‚é~
	  }

//  switch(sw1){
//  case 0x0:
//	  IOWR_ALTERA_AVALON_PIO_DATA(DUTY_BASE,116500);//100%
//	  break;
//  default:
//	  break;
//}
//
//  switch(sw2){
//  case 0x0:
//	  IOWR_ALTERA_AVALON_PIO_DATA(DUTY_BASE,47000);//0%
//	  break;
//  default:
//	  break;
//}
//
//  switch(sw3){
//  case 0x0:
//	  IOWR_ALTERA_AVALON_PIO_DATA(DUTY_BASE,50475);//5%
//	  break;
//  default:
//	  break;
//}

  }
  return 0;
}

